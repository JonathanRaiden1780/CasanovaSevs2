<!-- NAVBAR -->
<app-navbar></app-navbar>
<!-- Contenido -->

<div class="card col-md-2 mt-3 ml-1 text-white text-center form-inline" style="background-color: #1a3263"><fa-icon [icon]="faCarCrash" class="fa-2x"></fa-icon><strong><h2>SEVS - Taller - Consulta</h2></strong></div>
<div class="row">
  <div class="col-md-12">
      <div class="card mt-3 ml-1 text-white text-center" style="background-color: #1a3263"><strong><h2>Resumen de Reportes</h2></strong></div>
      <div class="card">
          <div class="card-body">
            <!-- <input
              type='text'
              style='padding:8px;margin:15px auto;width:30%;'
              placeholder='Busqueda...'
              (keyup)='updateFilter($event)'
              >
            <ngx-datatable
              #myTable
              class="material"
              [headerHeight]="35"
              [columnMode]="'force'"
              [rowHeight]="'auto'"
              [footerHeight]="30"
              [count]="true"
              [limit]="25"
              [rows]="rows1"
              >

              <ngx-datatable-column
              [width]="50"
              [resizeable]="false"
              [sortable]="false"
              [draggable]="false"
              [canAutoResize]="false">
              </ngx-datatable-column>
              <ngx-datatable-column name="Folio" prop="id">
              <ng-template ngx-datatable-cell-template let-value="value">
                  {{value}}
              </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Tipo de Servicio" prop="tipo" >
              <ng-template ngx-datatable-cell-template let-value="value">
                  {{value}}
              </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Fecha de Entrada" prop="fechaent">
                <ng-template ngx-datatable-cell-template let-value="value">
                  {{value}}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Fecha de Salida" prop="fechasal">
              <ng-template ngx-datatable-cell-template let-value="value">
                  {{value}}
              </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Asesor" prop="asesor">
              <ng-template ngx-datatable-cell-template let-value="value">
                  {{value}}
              </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column  name="Cliente">
                <ng-template ngx-datatable-cell-template let-value="value">
                    {{value}}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Nombre del Cliente" prop="NombreCliente">
                <ng-template ngx-datatable-cell-template let-value="value">
                    {{value}}
                </ng-template>
              </ngx-datatable-column>
            </ngx-datatable> -->
          <mat-form-field>
              <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Busqueda...">
          </mat-form-field>
          <mat-table #table [dataSource]="dataSource" matSort>

            <ng-container matColumnDef="Fecha Entrada">
                <th mat-header-cell *matHeaderCellDef> Fecha Entrada </th>
                <td mat-cell *matCellDef="let element"> {{element.fechaent}} </td>
              </ng-container>

              <ng-container matColumnDef="Fecha Salida">
                <th mat-header-cell *matHeaderCellDef> Fecha Entrada </th>
                <td mat-cell *matCellDef="let element"> {{element.fechasal}} </td>
              </ng-container>

              <ng-container matColumnDef="Folio">
                <th mat-header-cell *matHeaderCellDef> Folio </th>
                <td mat-cell *matCellDef="let element"> {{element.id}} </td>
              </ng-container>

              <ng-container matColumnDef="Placa">
                <th mat-header-cell *matHeaderCellDef> Placa </th>
                <td mat-cell *matCellDef="let element"> {{element.placa}} </td>
              </ng-container>

              <ng-container matColumnDef="Servicio">
                <th mat-header-cell *matHeaderCellDef> Servicio </th>
                <td mat-cell *matCellDef="let element"> {{element.tipo}} </td>
              </ng-container>

              <ng-container matColumnDef="Asesor">
                <th mat-header-cell *matHeaderCellDef> Asesor </th>
                <td mat-cell *matCellDef="let element"> {{element.asesor}} </td>
              </ng-container>

              <ng-container matColumnDef="Cliente">
                <th mat-header-cell *matHeaderCellDef> Cliente </th>
                <td mat-cell *matCellDef="let element"> {{element.NombreCliente}} </td>
              </ng-container>

              <ng-container matColumnDef="Numero Cliente">
                <th mat-header-cell *matHeaderCellDef> Numero Cliente </th>
                <td mat-cell *matCellDef="let element"> {{element.NumeroCliente}} </td>
              </ng-container>
                  
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </mat-table>
          <!--
            <mat-paginator [pageSizeOptions]="[20, 30, 50]" showFirstLastButtons></mat-paginator>
          -->
          </div>
      </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12 mx-auto">
    <div class="card mt-3 ml-1 text-white text-center" style="background-color: #1a3263"><strong><h2>Exportar Información</h2></strong></div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <form >
        <div class="row">
            <div class="col-md-2 ml-1">
              <!-- Fecha de Entrada -->
              <div class="form-group">
                <label><strong>Fecha Inicial</strong></label><br>
                <div class="input-group mb-2">
                  <div class="input-group-prepend">
                    <div class="input-group-text" style="color: #f7b633; background-color: #1a3263"><fa-icon [icon]="faCar"></fa-icon></div>
                  </div>
                <input type="date" class="form-control text-center" id="inputfe" placeholder="Fecha Entrada" name="fechaent" [(ngModel)]="fechaent" #fechaents="ngModel">
                </div>
              </div>
            </div>
            <div class="col-md-2">
            <!-- Fecha de Salida -->
              <div class="form-group">
                  <label><strong>Fecha Fin</strong></label><br>
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text" style="color: #f7b633; background-color: #1a3263"><fa-icon [icon]="faCar"></fa-icon></div>
                    </div>
                    <input type="date" class="form-control text-center" id="inputfs" placeholder="Fecha Salida" name="fechasal" [(ngModel)]="fechasal" #fechasals="ngModel">
                  </div>
              </div>
            </div>
            <div class="col-md-2">
              <button type="submit" class="btn btn-primary btn-block btn-lg mb-2 mt-4" style="font-size: 1rem" value="Guardar" (click)="myFunction()"><strong>Generar Reporte</strong></button>
            </div>
          </div>
        </form>
      <div class="card-body"><!-- LLenado de la tabla atravez de un for-->
        <table  class="table table-sm table-bordered text-center" id="mytable5">
          <thead>
            <tr>
              <th scope="col">Folio</th>
              <th scope="col">Tipo de Servicio</th>

              <th scope="col">PLACA</th>
              <th scope="col">VEHICULO</th>
              <th scope="col">MARCA</th>
              <th scope="col">COMBUSTIBLE</th>
              <th scope="col"># SERIE</th>
              <th scope="col">KM</th>
              <th scope="col">AÑO</th>

              <th scope="col">NOMBRECLIENTE</th>
              <th scope="col">CORREOCLIENTE</th>
              <th scope="col">NUMEROCLIENTE</th>
              <th scope="col">CLIENTE</th>
              

              <th scope="col">ADMIN FLOTA</th>
              <th scope="col">ASESOR</th>

              <th scope="col">ENTRADA</th>
              <th scope="col">SALIDA</th>          
              <th scope="col">SOL. DIAG.</th>
              <th scope="col">T. SOLICITADO</th>
              <th scope="col">T. REALIZADO</th>
              <th scope="col">ESTATUS</th>
              <th scope="col">TECNICO</th>

              <th scope="col">TARJETA CIRCULACION</th>
              <th scope="col">ANTENA</th>
              <th scope="col">CONTROL Y LLAVE</th>
              <th scope="col">LLAVE TUERCAS</th>
              <th scope="col">KIT DE HERRAMIENTAS</th>
              <th scope="col">LLANTAS</th>
              <th scope="col">REFACCION</th>
              <th scope="col">GATO</th>
              <th scope="col">TAPON LLANTA</th>
              <th scope="col">SEGURO RUEDAS</th>
              <th scope="col">TAPON GASO</th>
              <th scope="col">ORDEN DE SERVICIO</th>
              <th scope="col">VESTIDURAS</th>
              <th scope="col">TAPETES</th>
              <th scope="col">EXTINTOR</th>
              <th scope="col">SEÑALES</th>
              <th scope="col">RADIO</th>
              <th scope="col">COMENTARIOS</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let controlService of listado | async">
              <th scope="row">{{controlService.id}}</th>
              <td>{{controlService.tipo}}</td>

              <td>{{controlService.placa}}</td>
              <td>{{controlService.vehiculo}}</td>
              <td>{{controlService.marca}}</td>
              <td>{{controlService.combustible}}</td>
              <td>{{controlService.numserie}}</td>
              <td>{{controlService.kilometraje}}</td>
              <td>{{controlService.anio}}</td>

              <td>{{controlService.NombreCliente}}</td>
              <td>{{controlService.CorreoCliente}}</td>
              <td>{{controlService.NumeroCliente}}</td>
              <td>{{controlService.cliente}}</td>

              <td>{{controlService.Administrador}}</td>
              <td>{{controlService.asesor}}</td>

              <td>{{controlService.fechaent}}</td>
              <td>{{controlService.fechasal}}</td>
              <td>{{controlService.Diagnostico}}</td>
              <td>{{controlService.Solicta}}</td>
              <td>{{controlService.Trabajorealizado}}</td>
              <td>{{controlService.Estatus}}</td>
              <td>{{controlService.Tecnico}}</td>

              <td>{{controlService.tarjetacirculacion}}</td>
              <td>{{controlService.antena}}</td>
              <td>{{controlService.controlllave}}</td>
              <td>{{controlService.llavetuerc}}</td>
              <td>{{controlService.kitherram}}</td>
              <td>{{controlService.llantas}}</td>
              <td>{{controlService.llantaref}}</td>
              <td>{{controlService.gato}}</td>
              <td>{{controlService.taponllanta}}</td>
              <td>{{controlService.segurorueda}}</td>
              <td>{{controlService.tapongas}}</td>
              <td>{{controlService.ordenservicio}}</td>
              <td>{{controlService.vestiduras}}</td>
              <td>{{controlService.tapetes}}</td>
              <td>{{controlService.extintor}}</td>
              <td>{{controlService.senal}}</td>
              <td>{{controlService.radio}}</td>
              <td>{{controlService.comentarios}}</td>
            </tr>
          </tbody>
        </table>
        <button class="btn btn-primary btn-block" style="font-size: 1rem" (click)="exportAs('xlsx')"><strong>Exportar Excel</strong></button>
      </div>
    </div>
  </div>
</div>

<br><br><br>
<!-- Footer -->
<app-footer></app-footer>