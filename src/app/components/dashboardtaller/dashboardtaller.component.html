<!-- NAVBAR -->
<app-navbar></app-navbar>
<!-- Contenido -->
<div class="card col-md-2 mt-3 ml-1 text-white text-center form-inline" style="background-color: #1a3263"><fa-icon [icon]="faCarCrash" class="fa-2x"></fa-icon><strong><h2>SEVS - Taller - Consulta</h2></strong></div>
<div class="row">
  <div class="col-md-12">
      <div class="card mt-3 ml-1 text-white text-center" style="background-color: #1a3263"><strong><h2>Resumen de Reportes</h2></strong></div>
      <div class="card">
          <div class="card-body">
              <input
              type='text'
              style='padding:8px;margin:15px auto;width:30%;'
              placeholder='Busqueda...'
              (keyup)='updateFilter($event)'
            />
            <ngx-datatable
              #myTable
              class="material expandable"
              [headerHeight]="35"
              [columnMode]="'force'"
              [rowHeight]="'auto'"
              [footerHeight]="30"
              [scrollbarV]="true"
              [count]="true"
              [limit]="25"
              [rows]="rows1"
              (page)="onPage($event)"
              >

              <!-- Row Detail Template -->

            <ngx-datatable-row-detail [rowHeight]="100" #myDetailRow (toggle)="onDetailToggle($event)">
              <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
                <div style="padding-left:35px;">
                  <div><strong>Datos Vehiculo</strong></div>
                  <div class="row">
                    <div class="col-md-3">
                      PLACAS: {{rows1.vehiculo.placa}}
                      <br>
                      Vehiculo: {{rows1.vehiculo.tipo}}
                      <br>
                      # de Serie: {{rows1.vehiculo.serie}}
                      <br>
                      KM: {{rows1.vehiculo.km}}
                    </div>
                    <div class="col-md-3">
                      ADMIN Flota: {{rows1.administrativo.admin}}
                      <br>
                      Asesor: {{rows1.administrativo.asesor}}
                      <br>
                    </div>
                    <div class="col-md-3">
                      Fecha Entrada: {{rows1.taller.entrada}}
                      <br>
                      Fecha Salida: {{rows1.taller.salida}}
                      <br>
                      Solicitud de Diagnostico: {{rows1.taller.soldiagnost}}
                      <br>
                      Estatus: {{rows1.taller.status}}
                      <br>
                      Tecnico: {{rows1.taller.tecnico}}
                    </div>
                    <div class="col-md-3">
                      Cliente: {{rows1.cliente.nombre}}
                      <br>
                      Correo electronico: {{rows1.cliente.correo}}
                      <br>
                      Telefono: {{rows1.cliente.telefono}}
                      <br>
                      {{rows1.cliente.origen}}
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngx-datatable-row-detail>

              <ngx-datatable-column
              [width]="50"
              [resizeable]="false"
              [sortable]="false"
              [draggable]="false"
              [canAutoResize]="false">
              <ng-template let-row="row" let-expanded="expanded" ngx-datatable-cell-template>
                <a
                  href="javascript:void(0)"
                  [class.datatable-icon-right]="!expanded"
                  [class.datatable-icon-down]="expanded"
                  title="Expand/Collapse Row"
                  (click)="toggleExpandRow(rows1)">
                </a>
              </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Folio">
              <ng-template ngx-datatable-cell-template let-value="value">
                  {{value}}
              </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Servicio">
              <ng-template ngx-datatable-cell-template let-value="value">
                  {{value}}
              </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Fecha de Ingreso">
                <ng-template ngx-datatable-cell-template let-value="value">
                  {{value}}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Fecha de Salida">
              <ng-template ngx-datatable-cell-template let-value="value">
                  {{value}}
              </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Solicitud de Diagnostico">
              <ng-template ngx-datatable-cell-template let-value="value">
                  {{value}}
              </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Origen Cliente">
                <ng-template ngx-datatable-cell-template let-value="value">
                    {{value}}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Cliente">
                <ng-template ngx-datatable-cell-template let-value="value">
                    {{value}}
                </ng-template>
              </ngx-datatable-column>
            </ngx-datatable>
          </div>
      </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12 mx-auto">
    <div class="card mt-3 ml-1 text-white text-center" style="background-color: #1a3263"><strong><h2>Exportar Información</h2></strong></div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <form>
        <div class="row">
            <div class="col-md-2 ml-1">
              <!-- Fecha de Entrada -->
              <div class="form-group">
                <label><strong>Fecha Inicial</strong></label><br>
                <div class="input-group mb-2">
                  <div class="input-group-prepend">
                    <div class="input-group-text" style="color: #f7b633; background-color: #1a3263"><fa-icon [icon]="faCar"></fa-icon></div>
                  </div>
                <input type="date" class="form-control text-center" id="inlineFormInputGroup" placeholder="Fecha Entrada" name="fechaent" [(ngModel)]="fechaent" #fechaents="ngModel">
                </div>
              </div>
            </div>
            <div class="col-md-2">
            <!-- Fecha de Salida -->
              <div class="form-group">
                  <label><strong>Fecha Fin</strong></label><br>
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text" style="color: #f7b633; background-color: #1a3263"><fa-icon [icon]="faCar"></fa-icon></div>
                    </div>
                    <input type="date" class="form-control text-center" id="inlineFormInputGroup" placeholder="Fecha Salida" name="fechasal" [(ngModel)]="fechasal" #fechasals="ngModel">
                  </div>
              </div>
            </div>
            <div class="col-md-2">
              <button type="submit" class="btn btn-primary btn-block btn-lg mb-2 mt-4" style="font-size: 1rem" value="Guardar"><strong>Generar Reporte</strong></button>
            </div>
          </div>
        </form>
      <div class="card-body"><!-- LLenado de la tabla atravez de un for-->
        <table class="table table-sm table-bordered text-center" id="mytable">
          <thead>
            <tr>
              <th scope="col">Folio</th>
              <th scope="col">Tipo de Servicio</th>
              <th scope="col">PLACA</th>
              <th scope="col">VEHICULO</th>
              <th scope="col">AÑO</th>
              <th scope="col"># SERIE</th>
              <th scope="col">KM</th>
              <th scope="col">ADMIN FLOTA</th>
              <th scope="col">ASESOR</th>
              <th scope="col">ORDEN DE SERVICIO</th>
              <th scope="col">ENTRADA</th>
              <th scope="col">SALIDA</th>
              <th scope="col">SOL. DIAG.</th>
              <th scope="col">T. SOLICITADO</th>
              <th scope="col">T. REALIZADO</th>
              <th scope="col">ESTATUS</th>
              <th scope="col">TECNICO</th>
              <th scope="col">TARJETA CIRCULACION</th>
              <th scope="col">ANTENA</th>
              <th scope="col">CONTROL Y LLAVE</th>
              <th scope="col">LLAVE TUERCAS</th>
              <th scope="col">KIT DE HERRAMIENTAS</th>
              <th scope="col">LLANTAS</th>
              <th scope="col">REFACCION</th>
              <th scope="col">GATO</th>
              <th scope="col">TAPON LLANTA</th>
              <th scope="col">SEGURO RUEDAS</th>
              <th scope="col">TAPON GASO</th>
              <th scope="col">VESTIDURAS</th>
              <th scope="col">TAPETES</th>
              <th scope="col">EXTINTOR</th>
              <th scope="col">SEÑALES</th>
              <th scope="col">RADIO</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">1</th>
              <td>Mark</td>
              <td>Otto</td>
              <td>@mdo</td>
            </tr>
            <tr>
              <th scope="row">2</th>
              <td>Jacob</td>
              <td>Thornton</td>
              <td>@fat</td>
            </tr>
          </tbody>
        </table>
        <button class="btn btn-primary btn-block" style="font-size: 1rem" (click)="exportAs('xlsx')"><strong>Exportar Excel</strong></button>
      </div>
    </div>
  </div>
</div>
<br><br><br>
<!-- Footer -->
<app-footer></app-footer>